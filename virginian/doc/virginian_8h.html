<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Virginian: src/virginian.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Virginian</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">src/virginian.h File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>
<code>#include &lt;assert.h&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &lt;pthread.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;sys/stat.h&gt;</code><br/>
<code>#include &lt;sys/time.h&gt;</code><br/>
<code>#include &lt;cuda.h&gt;</code><br/>
<code>#include &lt;cuda_runtime_api.h&gt;</code><br/>
<code>#include &lt;driver_types.h&gt;</code><br/>
</div>
<p><a href="virginian_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvirg__tablet__info.html">virg_tablet_info</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Information associated with a tablet on disk.  <a href="structvirg__tablet__info.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Tablet meta information.  <a href="structvirg__tablet__meta.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionvirg__var.html">virg_var</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Union used to store any of the possible types of virg_t in a single memory location, used for the 4th argument for opcodes.  <a href="unionvirg__var.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvirg__op.html">virg_op</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Opcode, including arguments.  <a href="structvirg__op.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvirg__result__node__.html">virg_result_node_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Linked list node used to manage result tablets.  <a href="structvirg__result__node__.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvirg__vm.html">virg_vm</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">State struct of the virtual machine context.  <a href="structvirg__vm.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvirg__vm__context.html">virg_vm_context</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Lower-level GPU virtual machine context.  <a href="structvirg__vm__context.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvirg__vm__simdcontext.html">virg_vm_simdcontext</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Lower-level data parallel CPU virtual machine context.  <a href="structvirg__vm__simdcontext.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvirg__db.html">virg_db</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">State of the currently open database.  <a href="structvirg__db.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvirginian.html">virginian</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">State struct of the whole database.  <a href="structvirginian.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvirg__vm__arg.html">virg_vm_arg</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the arguments for the multicore GPU virtual machine.  <a href="structvirg__vm__arg.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvirg__reader.html">virg_reader</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">State of the results reader object.  <a href="structvirg__reader.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a78c99ffd76a7bb3c8c74db76207e9ab4"></a><!-- doxytag: member="virginian.h::_XOPEN_SOURCE" ref="a78c99ffd76a7bb3c8c74db76207e9ab4" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a78c99ffd76a7bb3c8c74db76207e9ab4">_XOPEN_SOURCE</a>&#160;&#160;&#160;500</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">enables 64bit file operations <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adfba1fb4e5416737ea8b676096295495"></a><!-- doxytag: member="virginian.h::VIRG_KB" ref="adfba1fb4e5416737ea8b676096295495" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#adfba1fb4e5416737ea8b676096295495">VIRG_KB</a>&#160;&#160;&#160;1024</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">shortcut for 2^10 <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a364e84fc0e99dc76063ed0be547b2a3e"></a><!-- doxytag: member="virginian.h::VIRG_MB" ref="a364e84fc0e99dc76063ed0be547b2a3e" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a364e84fc0e99dc76063ed0be547b2a3e">VIRG_MB</a>&#160;&#160;&#160;1048576</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">shortcut for 2^20 <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adb500cb099e5d31878d704586d7362ed"></a><!-- doxytag: member="virginian.h::VIRG_GB" ref="adb500cb099e5d31878d704586d7362ed" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#adb500cb099e5d31878d704586d7362ed">VIRG_GB</a>&#160;&#160;&#160;1073741824</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">shortcut for 2^30 <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af09309bb5d4ece011dd90dd3f5f2ceac"></a><!-- doxytag: member="virginian.h::VIRG_FLOAT_ERROR" ref="af09309bb5d4ece011dd90dd3f5f2ceac" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#af09309bb5d4ece011dd90dd3f5f2ceac">VIRG_FLOAT_ERROR</a>&#160;&#160;&#160;0.0001</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">acceptable error in floating point comparisons <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ac1573feba851890134cec421e2e763"></a><!-- doxytag: member="virginian.h::VIRG_TABLET_SIZE" ref="a2ac1573feba851890134cec421e2e763" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a2ac1573feba851890134cec421e2e763">VIRG_TABLET_SIZE</a>&#160;&#160;&#160;(8 * VIRG_MB)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">size of tablets, must be equal for the db file and the database <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9f440281a17ca1c0adab888f861278b6"></a><!-- doxytag: member="virginian.h::VIRG_TABLET_INITIAL_KEYS" ref="a9f440281a17ca1c0adab888f861278b6" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a9f440281a17ca1c0adab888f861278b6">VIRG_TABLET_INITIAL_KEYS</a>&#160;&#160;&#160;256</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">rows to allocate when a tablet is created <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a83afecb586f9f21f3f2d4d8d961b0535"></a><!-- doxytag: member="virginian.h::VIRG_TABLET_KEY_INCREMENT" ref="a83afecb586f9f21f3f2d4d8d961b0535" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a83afecb586f9f21f3f2d4d8d961b0535">VIRG_TABLET_KEY_INCREMENT</a>&#160;&#160;&#160;(2048 * 128)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">rows to add when a tablet is full and rows still need to be added <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac66ec69a5db41b1db69335bea31cc639"></a><!-- doxytag: member="virginian.h::VIRG_TABLET_INITIAL_FIXED" ref="ac66ec69a5db41b1db69335bea31cc639" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#ac66ec69a5db41b1db69335bea31cc639">VIRG_TABLET_INITIAL_FIXED</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">initial size of the fixed block <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad68fe01cd6f7a13b22e9e1741abcca81"></a><!-- doxytag: member="virginian.h::VIRG_TABLET_INITIAL_VARIABLE" ref="ad68fe01cd6f7a13b22e9e1741abcca81" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#ad68fe01cd6f7a13b22e9e1741abcca81">VIRG_TABLET_INITIAL_VARIABLE</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">initial size of the variable block <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a634ca639104eef31bd6787366466a2d1"></a><!-- doxytag: member="virginian.h::VIRG_TABLET_MAXED_VARIABLE" ref="a634ca639104eef31bd6787366466a2d1" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a634ca639104eef31bd6787366466a2d1">VIRG_TABLET_MAXED_VARIABLE</a>&#160;&#160;&#160;(VIRG_TABLET_SIZE / 16)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">size reserved for the variable block when the fixed is maxed out <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac80a5193a63bb39ea409567e18cffd57"></a><!-- doxytag: member="virginian.h::VIRG_RESULT_INITIAL_VARIABLE" ref="ac80a5193a63bb39ea409567e18cffd57" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#ac80a5193a63bb39ea409567e18cffd57">VIRG_RESULT_INITIAL_VARIABLE</a>&#160;&#160;&#160;(512 * VIRG_KB)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">initial area reserved for the variable size block of result tablets <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a322fb6fe4d60ffeb3e91ca70114d1654"></a><!-- doxytag: member="virginian.h::VIRG_TABLET_INFO_SIZE" ref="a322fb6fe4d60ffeb3e91ca70114d1654" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a322fb6fe4d60ffeb3e91ca70114d1654">VIRG_TABLET_INFO_SIZE</a>&#160;&#160;&#160;16</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">initial disk slot meta informations to allocate for tablets <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a002840681a46089ae65d9b4cf6a2eb50"></a><!-- doxytag: member="virginian.h::VIRG_TABLET_INFO_INCREMENT" ref="a002840681a46089ae65d9b4cf6a2eb50" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a002840681a46089ae65d9b4cf6a2eb50">VIRG_TABLET_INFO_INCREMENT</a>&#160;&#160;&#160;32</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">meta information structs to add when all are used up and we need another <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9c9a2a8531dbc0da7a03ccd1a8cd00f7"></a><!-- doxytag: member="virginian.h::VIRG_MAX_COLUMNS" ref="a9c9a2a8531dbc0da7a03ccd1a8cd00f7" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a9c9a2a8531dbc0da7a03ccd1a8cd00f7">VIRG_MAX_COLUMNS</a>&#160;&#160;&#160;16</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum table columns supported <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6b400ca21647bb81159b1c459ef053e2"></a><!-- doxytag: member="virginian.h::VIRG_MAX_TABLES" ref="a6b400ca21647bb81159b1c459ef053e2" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a6b400ca21647bb81159b1c459ef053e2">VIRG_MAX_TABLES</a>&#160;&#160;&#160;16</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum tables supported <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2cccd75830388d7a23d0dc8dca454f57"></a><!-- doxytag: member="virginian.h::VIRG_MAX_COLUMN_NAME" ref="a2cccd75830388d7a23d0dc8dca454f57" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a2cccd75830388d7a23d0dc8dca454f57">VIRG_MAX_COLUMN_NAME</a>&#160;&#160;&#160;16</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum column name length supported <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3dc8d40b3fe67f3576cf3e6336efdcdf"></a><!-- doxytag: member="virginian.h::VIRG_MAX_TABLE_NAME" ref="a3dc8d40b3fe67f3576cf3e6336efdcdf" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a3dc8d40b3fe67f3576cf3e6336efdcdf">VIRG_MAX_TABLE_NAME</a>&#160;&#160;&#160;32</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum table name length supported <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9c6e6ed866369d7cc0288fafd223a87b"></a><!-- doxytag: member="virginian.h::VIRG_MEM_TABLETS" ref="a9c6e6ed866369d7cc0288fafd223a87b" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a9c6e6ed866369d7cc0288fafd223a87b">VIRG_MEM_TABLETS</a>&#160;&#160;&#160;64</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">tablet slots to allocate in memory <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a55a19fc1029cc2d13cddfa8e0b9077b1"></a><!-- doxytag: member="virginian.h::VIRG_GPU_TABLETS" ref="a55a19fc1029cc2d13cddfa8e0b9077b1" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a55a19fc1029cc2d13cddfa8e0b9077b1">VIRG_GPU_TABLETS</a>&#160;&#160;&#160;2</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">tablet slots to allocate in gpu memory <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae435eb27cbf4eb64670ab0b8bf44db98"></a><!-- doxytag: member="virginian.h::VIRG_VM_TABLES" ref="ae435eb27cbf4eb64670ab0b8bf44db98" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#ae435eb27cbf4eb64670ab0b8bf44db98">VIRG_VM_TABLES</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum number of tables to read from supported in vm <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6b039207848380e774147e035d3876c0"></a><!-- doxytag: member="virginian.h::VIRG_CPU_SIMD" ref="a6b039207848380e774147e035d3876c0" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a6b039207848380e774147e035d3876c0">VIRG_CPU_SIMD</a>&#160;&#160;&#160;64</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of rows to process on the cpu in a block <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3bb0ed9071587928925932e169a02985"></a><!-- doxytag: member="virginian.h::VIRG_ROW_BUFFER" ref="a3bb0ed9071587928925932e169a02985" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a3bb0ed9071587928925932e169a02985">VIRG_ROW_BUFFER</a>&#160;&#160;&#160;256</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">buffer size to store a single row in <a class="el" href="structvirg__reader.html" title="State of the results reader object.">virg_reader</a> <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a97265ed63626e0bd7a2bb4b7ad8fb661"></a><!-- doxytag: member="virginian.h::VIRG_REGS" ref="a97265ed63626e0bd7a2bb4b7ad8fb661" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a97265ed63626e0bd7a2bb4b7ad8fb661">VIRG_REGS</a>&#160;&#160;&#160;16</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of vm registers allocated <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac2542ec287188e6b9d82904c65e0191c"></a><!-- doxytag: member="virginian.h::VIRG_GLOBAL_REGS" ref="ac2542ec287188e6b9d82904c65e0191c" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#ac2542ec287188e6b9d82904c65e0191c">VIRG_GLOBAL_REGS</a>&#160;&#160;&#160;16</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of vm global registers allocated <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a35812eb8ca48e1d30a7c7dd3b4797af4"></a><!-- doxytag: member="virginian.h::VIRG_OPS" ref="a35812eb8ca48e1d30a7c7dd3b4797af4" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a35812eb8ca48e1d30a7c7dd3b4797af4">VIRG_OPS</a>&#160;&#160;&#160;32</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum number of query statement opcodes allowed <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abd6906455b1de7b6b275ef7d6dd3f449"></a><!-- doxytag: member="virginian.h::VIRG_CUDADEVICE" ref="abd6906455b1de7b6b275ef7d6dd3f449" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#abd6906455b1de7b6b275ef7d6dd3f449">VIRG_CUDADEVICE</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">cuda device selected <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a924b9ad484637fcf22848b33d0e41663"></a><!-- doxytag: member="virginian.h::VIRG_THREADSPERBLOCK" ref="a924b9ad484637fcf22848b33d0e41663" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a924b9ad484637fcf22848b33d0e41663">VIRG_THREADSPERBLOCK</a>&#160;&#160;&#160;128</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">cuda threads per block <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a676649bccad95bc8c5443fa8f25ffc28">VIRG_THREADSPERBLOCK_MASK</a>&#160;&#160;&#160;0xFFFFFF80</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af3c316d0cee6f29151469cd5ba1c1cfb"></a><!-- doxytag: member="virginian.h::VIRG_MULTITHREADS" ref="af3c316d0cee6f29151469cd5ba1c1cfb" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#af3c316d0cee6f29151469cd5ba1c1cfb">VIRG_MULTITHREADS</a>&#160;&#160;&#160;8</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of threads to use for the multicore cpu virtual machine <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac21dbbc06d2c74731554f359edd10702"></a><!-- doxytag: member="virginian.h::VIRG_FAIL" ref="ac21dbbc06d2c74731554f359edd10702" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#ac21dbbc06d2c74731554f359edd10702">VIRG_FAIL</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">used to return a function failure <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae39e133b80ee1958313531a94cb517d2"></a><!-- doxytag: member="virginian.h::VIRG_SUCCESS" ref="ae39e133b80ee1958313531a94cb517d2" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#ae39e133b80ee1958313531a94cb517d2">VIRG_SUCCESS</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">used to return a function success <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac8c9f6fbeb9d60a07ec61b3f3430d48a"></a><!-- doxytag: member="virginian.h::VIRG_MIN" ref="ac8c9f6fbeb9d60a07ec61b3f3430d48a" args="(a, b)" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#ac8c9f6fbeb9d60a07ec61b3f3430d48a">VIRG_MIN</a>(a, b)&#160;&#160;&#160;(a &lt; b ? a : b)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">convenience macro to return the min of the two inputs <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aafa5e03a9cb5ee38048a809d1bef954e"></a><!-- doxytag: member="virginian.h::VIRG_MAX" ref="aafa5e03a9cb5ee38048a809d1bef954e" args="(a, b)" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#aafa5e03a9cb5ee38048a809d1bef954e">VIRG_MAX</a>(a, b)&#160;&#160;&#160;(a &lt; b ? b : a)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">convenience macro to return the max of the two inputs <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac342aca583356315f755c78ac9d0ccc6"></a><!-- doxytag: member="virginian.h::VIRG_ISPWR2" ref="ac342aca583356315f755c78ac9d0ccc6" args="(x)" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#ac342aca583356315f755c78ac9d0ccc6">VIRG_ISPWR2</a>(x)&#160;&#160;&#160;((x != 0) &amp;&amp; ((x &amp; (~x + 1)) == x))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">convenience macro to verify a number is a power of 2 <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5f5d71a751fedca1701bb61f19665cb9"></a><!-- doxytag: member="virginian.h::VIRG_ERROR" ref="a5f5d71a751fedca1701bb61f19665cb9" args="(x)" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a5f5d71a751fedca1701bb61f19665cb9">VIRG_ERROR</a>(x)&#160;&#160;&#160;fprintf(stderr, &quot;::: Virginian error %s line %d:: &quot; x &quot;\n&quot;, __FILE__, __LINE__);</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">print out an error with the file and line <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a5199c848f6c06c5aabdc6546774d4f0d">VIRG_CHECK</a>(cond, args)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">print an error and return failure if the condition is true  <a href="#a5199c848f6c06c5aabdc6546774d4f0d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d1644a2595d5c074a86067bfa7ddd4a"></a><!-- doxytag: member="virginian.h::VIRG_CUDCHK" ref="a1d1644a2595d5c074a86067bfa7ddd4a" args="(desc)" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a1d1644a2595d5c074a86067bfa7ddd4a">VIRG_CUDCHK</a>(desc)&#160;&#160;&#160;VIRG_CUDCHKCALL(cudaGetLastError(), desc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">return failure and print it if there is an outstanding cuda error <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a78a2443f3caf7376459ae7a8b4bd25ea">VIRG_CUDCHKCALL</a>(call, desc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">return failure and print it if there in a cuda error returned from a call  <a href="#a78a2443f3caf7376459ae7a8b4bd25ea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a53c3d8f6ba6373cf9095d58d3ba4f7e1">VIRG_DEBUG_CHECK</a>(cond, args)&#160;&#160;&#160;;</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structvirg__result__node__.html">virg_result_node_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a0bfe4609754200e12e70cbd7f6692912">virg_result_node</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Linked list node used to manage result tablets.  <a href="#a0bfe4609754200e12e70cbd7f6692912"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a93dd5be89047ac0f1676726df94af3be">virg_ops</a> { <br/>
&#160;&#160;<b>OP_Table</b> =  0, 
<b>OP_ResultColumn</b> =  1, 
<b>OP_Parallel</b> =  2, 
<b>OP_Finish</b> =  3, 
<br/>
&#160;&#160;<b>OP_Column</b> =  4, 
<b>OP_Rowid</b> =  5, 
<b>OP_Result</b> =  6, 
<b>OP_Converge</b> =  7, 
<br/>
&#160;&#160;<b>OP_Invalid</b> =  8, 
<b>OP_Cast</b> =  9, 
<b>OP_Integer</b> =  10, 
<b>OP_Float</b> =  11, 
<br/>
&#160;&#160;<b>OP_Le</b> =  12, 
<b>OP_Lt</b> =  13, 
<b>OP_Ge</b> =  14, 
<b>OP_Gt</b> =  15, 
<br/>
&#160;&#160;<b>OP_Eq</b> =  16, 
<b>OP_Neq</b> =  17, 
<b>OP_Add</b> =  18, 
<b>OP_Sub</b> =  19, 
<br/>
&#160;&#160;<b>OP_Mul</b> =  20, 
<b>OP_Div</b> =  21, 
<b>OP_And</b> =  22, 
<b>OP_Or</b> =  23, 
<br/>
&#160;&#160;<b>OP_Not</b> =  24, 
<b>OP_Nop</b> =  25
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">enumeration and integer assignments of all virtual machine opcodes <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a5edb977d9e195d5df43f1757f311292b">virg_t</a> { <br/>
&#160;&#160;<b>VIRG_INT</b> =  0, 
<b>VIRG_INT64</b> =  1, 
<b>VIRG_FLOAT</b> =  2, 
<b>VIRG_DOUBLE</b> =  3, 
<br/>
&#160;&#160;<b>VIRG_CHAR</b> =  4, 
<b>VIRG_STRING</b> =  5, 
<b>VIRG_NULL</b> =  6
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">enumeration of all variable types used by the database <br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="virginian_8h.html#a5edb977d9e195d5df43f1757f311292b">virg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#accaa60be5f4614518406bce4d3d1478f">virg_generalizetype</a> (<a class="el" href="virginian_8h.html#a5edb977d9e195d5df43f1757f311292b">virg_t</a> t1, <a class="el" href="virginian_8h.html#a5edb977d9e195d5df43f1757f311292b">virg_t</a> t2)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">used when operating on two types to get the more general type  <a href="#accaa60be5f4614518406bce4d3d1478f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#gaa6d6a3af446d22e836e0acc488db0348">virg_db_alloc</a> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> **<a class="el" href="vm__gpu_8cu.html#a98365893b0ed61f342c55a901d47b738">meta</a>, int id)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a tablet slot and return a pointer to it.  <a href="group__database.html#gaa6d6a3af446d22e836e0acc488db0348"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#gabbd5a202240db94bc243bab127c8157d">virg_db_open</a> (<a class="el" href="structvirginian.html">virginian</a> *v, const char *file)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Open an existing database file.  <a href="group__database.html#gabbd5a202240db94bc243bab127c8157d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#ga1d9e0bce415badbfb3fc06c0021d9de4">virg_db_create</a> (<a class="el" href="structvirginian.html">virginian</a> *v, const char *file)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and initialize a new database.  <a href="group__database.html#ga1d9e0bce415badbfb3fc06c0021d9de4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#ga8e2d3e3bf58554a5c2b58372c2211b66">virg_db_close</a> (<a class="el" href="structvirginian.html">virginian</a> *v)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the currently opened database.  <a href="group__database.html#ga8e2d3e3bf58554a5c2b58372c2211b66"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#ga7a90f2b2186befe31067d4c13d3fa168">virg_db_clear</a> (<a class="el" href="structvirginian.html">virginian</a> *v, unsigned slot)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear out a certain tablet slot.  <a href="group__database.html#ga7a90f2b2186befe31067d4c13d3fa168"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#gabba43a66f14c5ad7172401aa0005261f">virg_db_write</a> (<a class="el" href="structvirginian.html">virginian</a> *v, unsigned slot)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the tablet in a tablet slot to disk.  <a href="group__database.html#gabba43a66f14c5ad7172401aa0005261f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#ga45ebb12f5cd1cb668f06dcc64fd815a0">virg_db_load</a> (<a class="el" href="structvirginian.html">virginian</a> *v, unsigned tablet_id, <a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> **tab)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Load a tablet into a slot based on its ID and return a pointer.  <a href="group__database.html#ga45ebb12f5cd1cb668f06dcc64fd815a0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#ga78584f2bb7ca78e1cb87378929ce40f2">virg_db_loadnext</a> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> **tab)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Advance a tablet pointer to the next tablet in its string of tablets.  <a href="group__database.html#ga78584f2bb7ca78e1cb87378929ce40f2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#ga82086192c59cb1cb6dce14cbccdc4554">virg_db_findslot</a> (<a class="el" href="structvirginian.html">virginian</a> *v, unsigned *slot_)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Find an empty or unlocked tablet slot.  <a href="group__database.html#ga82086192c59cb1cb6dce14cbccdc4554"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__table.html#gabe254310e06db8843964bfed82dd4d67">virg_table_addcolumn</a> (<a class="el" href="structvirginian.html">virginian</a> *v, unsigned table_id, const char *name, <a class="el" href="virginian_8h.html#a5edb977d9e195d5df43f1757f311292b">virg_t</a> type)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a column to every tablet in the table.  <a href="group__table.html#gabe254310e06db8843964bfed82dd4d67"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__table.html#gabd464f256a1d2645488e015f4a6da1b3">virg_table_create</a> (<a class="el" href="structvirginian.html">virginian</a> *v, const char *name, <a class="el" href="virginian_8h.html#a5edb977d9e195d5df43f1757f311292b">virg_t</a> key_type)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new table.  <a href="group__table.html#gabd464f256a1d2645488e015f4a6da1b3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__table.html#ga485a975e2aeb00880732eac8c6ad28ee">virg_table_insert</a> (<a class="el" href="structvirginian.html">virginian</a> *v, unsigned table_id, char *key, char *data, char *blob)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert a row into a table.  <a href="group__table.html#ga485a975e2aeb00880732eac8c6ad28ee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__table.html#gab12cd9a6b1b3e72b9ebe90348cf3cb8c">virg_table_loadmem</a> (<a class="el" href="structvirginian.html">virginian</a> *v, unsigned table_id)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Load as many tablets from a table into memory as possible.  <a href="group__table.html#gab12cd9a6b1b3e72b9ebe90348cf3cb8c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__table.html#gae353f4b3d8c2a907abc94a1e9dd33a55">virg_table_getid</a> (<a class="el" href="structvirginian.html">virginian</a> *v, const char *name, unsigned *id)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the ID of a table given its name.  <a href="group__table.html#gae353f4b3d8c2a907abc94a1e9dd33a55"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__table.html#ga9232ad719d86ce12da634af477c0181d">virg_table_getcolumn</a> (<a class="el" href="structvirginian.html">virginian</a> *v, unsigned tid, const char *name, unsigned *id)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the ID of a table column given its name.  <a href="group__table.html#ga9232ad719d86ce12da634af477c0181d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__table.html#ga04c8f0729122ef8406e1a6c918bc4da6">virg_table_getcolumntype</a> (<a class="el" href="structvirginian.html">virginian</a> *v, unsigned tid, unsigned cid, <a class="el" href="virginian_8h.html#a5edb977d9e195d5df43f1757f311292b">virg_t</a> *type)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the type of a table column.  <a href="group__table.html#ga04c8f0729122ef8406e1a6c918bc4da6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__table.html#ga94b2fe975e966c73b9790562c9004e35">virg_table_getkeytype</a> (<a class="el" href="structvirginian.html">virginian</a> *v, unsigned tid, <a class="el" href="virginian_8h.html#a5edb977d9e195d5df43f1757f311292b">virg_t</a> *type)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the type of a table's key.  <a href="group__table.html#ga94b2fe975e966c73b9790562c9004e35"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__table.html#ga8a997c77187e090360e92c200f2249cf">virg_table_numrows</a> (<a class="el" href="structvirginian.html">virginian</a> *v, unsigned id, unsigned *rows)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Iterate over each table in the database to find the one who's name matches the given string. If no such table is found, the function returns VIRG_FAIL, otherwise the unsigned integer pointed to by the 3rd argument is set to the table's id.  <a href="group__table.html#ga8a997c77187e090360e92c200f2249cf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tablet.html#gad8e8dfe554d09257dbccd44b7bc35f2c">virg_tablet_addcolumn</a> (<a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> *tab, const char *name, <a class="el" href="virginian_8h.html#a5edb977d9e195d5df43f1757f311292b">virg_t</a> type)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a column to a tablet.  <a href="group__tablet.html#gad8e8dfe554d09257dbccd44b7bc35f2c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tablet.html#gad8a1519a69a43f924a94cec0a691392c">virg_tablet_addrows</a> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> *tab, unsigned rows)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add fixed-size rows to a tablet.  <a href="group__tablet.html#gad8a1519a69a43f924a94cec0a691392c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tablet.html#ga91abf3ca31d24bdc6be4b30ca0840d03">virg_tablet_addmaxrows</a> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> *tab)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximize the fixed-size block of the tablet.  <a href="group__tablet.html#ga91abf3ca31d24bdc6be4b30ca0840d03"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tablet.html#gac81bdeda780fac6917c8942bec57a581">virg_tablet_create</a> (<a class="el" href="structvirginian.html">virginian</a> *v, int *id, <a class="el" href="virginian_8h.html#a5edb977d9e195d5df43f1757f311292b">virg_t</a> key_type, unsigned table_id)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an empty tablet for a new table.  <a href="group__tablet.html#gac81bdeda780fac6917c8942bec57a581"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tablet.html#ga63806dc508073da387d045837f0d7e9d">virg_tablet_check</a> (<a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> *t)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Ensure that the tablet is internally consistent and conforms to expectation.  <a href="group__tablet.html#ga63806dc508073da387d045837f0d7e9d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tablet.html#gaaa3df8caa444c2afb156e0b4673fc492">virg_tablet_growfixed</a> (<a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> *tab, size_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Grows the fixed_block of a tablet by moving the variable block back.  <a href="group__tablet.html#gaaa3df8caa444c2afb156e0b4673fc492"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tablet.html#gabd69b51cf1469c95d1574b1d53935391">virg_tablet_lock</a> (<a class="el" href="structvirginian.html">virginian</a> *v, unsigned tablet_id)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a lock to a tablet.  <a href="group__tablet.html#gabd69b51cf1469c95d1574b1d53935391"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tablet.html#ga8e6a3f46a4efe9347c8202acc032db69">virg_tablet_unlock</a> (<a class="el" href="structvirginian.html">virginian</a> *v, unsigned tablet_id)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Release a lock to a tablet.  <a href="group__tablet.html#ga8e6a3f46a4efe9347c8202acc032db69"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tablet.html#ga3798b847b682e36ff95826f3aea15e70">virg_tablet_addtail</a> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> *head, <a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> **tail, unsigned possible_rows)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a result tablet reader.  <a href="group__tablet.html#ga3798b847b682e36ff95826f3aea15e70"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tablet.html#ga00875121a2be660a42c7633b13d0e27c">virg_tablet_remove</a> (<a class="el" href="structvirginian.html">virginian</a> *v, unsigned id)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a tablet from memory and disk.  <a href="group__tablet.html#ga00875121a2be660a42c7633b13d0e27c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vm.html#ga73e734fd1c2210bd54c01fa03f84e949">virg_vm_addop</a> (<a class="el" href="structvirg__vm.html">virg_vm</a> *<a class="el" href="vm__gpu_8cu.html#a946d0d35b3bc20faef9b521a79e7e89a">vm</a>, int op, int p1, int p2, int p3, <a class="el" href="unionvirg__var.html">virg_var</a> p4)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an op to a virtual machine's statement.  <a href="group__vm.html#ga73e734fd1c2210bd54c01fa03f84e949"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vm.html#gae7f94c15491cb88fd9c2325222a40b2c">virg_vm_allocresult</a> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__vm.html">virg_vm</a> *<a class="el" href="vm__gpu_8cu.html#a946d0d35b3bc20faef9b521a79e7e89a">vm</a>, <a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> **<a class="el" href="vm__gpu_8cu.html#a98365893b0ed61f342c55a901d47b738">meta</a>, <a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> *template_)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate and create a new result tablet or copy an existing tablet.  <a href="group__vm.html#gae7f94c15491cb88fd9c2325222a40b2c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vm.html#ga7112813a421bcf264ceae71555f18dce">virg_vm_execute</a> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__vm.html">virg_vm</a> *<a class="el" href="vm__gpu_8cu.html#a946d0d35b3bc20faef9b521a79e7e89a">vm</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute the virtual machine using its stored statement.  <a href="group__vm.html#ga7112813a421bcf264ceae71555f18dce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vm.html#gaa7c1110ac7283aac8da00edc168d8252">virg_vm_freeresults</a> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__vm.html">virg_vm</a> *<a class="el" href="vm__gpu_8cu.html#a946d0d35b3bc20faef9b521a79e7e89a">vm</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a result tablet reader.  <a href="group__vm.html#gaa7c1110ac7283aac8da00edc168d8252"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvirg__vm.html">virg_vm</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vm.html#ga81b5ae6a1970758a5f3b62f3cabe5e95">virg_vm_init</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a virtual machine context.  <a href="group__vm.html#ga81b5ae6a1970758a5f3b62f3cabe5e95"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vm.html#ga62ed45a3768fa86f06a144ddc52852aa">virg_vm_cleanup</a> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__vm.html">virg_vm</a> *<a class="el" href="vm__gpu_8cu.html#a946d0d35b3bc20faef9b521a79e7e89a">vm</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleanup a virtual machine.  <a href="group__vm.html#ga62ed45a3768fa86f06a144ddc52852aa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5eaa0064c9e2b63ad19d7e3ea95da9c0"></a><!-- doxytag: member="virginian.h::virginia_single" ref="a5eaa0064c9e2b63ad19d7e3ea95da9c0" args="(virginian *v, virg_vm *vm, virg_tablet_meta *tab, virg_tablet_meta **res_, unsigned row, unsigned num_rows)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>virginia_single</b> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__vm.html">virg_vm</a> *<a class="el" href="vm__gpu_8cu.html#a946d0d35b3bc20faef9b521a79e7e89a">vm</a>, <a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> *tab, <a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> **res_, unsigned row, unsigned num_rows)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vm.html#gac8a59abde2076fa5dad105b0ec11cf5f">virginia_multi</a> (void *arg_)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute the data-parallel portion of an opcode program on multiple cores.  <a href="group__vm.html#gac8a59abde2076fa5dad105b0ec11cf5f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vm.html#gaf37b1a607a52750691eb8de389837bd6">virg_vm_cpu</a> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__vm.html">virg_vm</a> *<a class="el" href="vm__gpu_8cu.html#a946d0d35b3bc20faef9b521a79e7e89a">vm</a>, <a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> **tab_, <a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> **res, unsigned num_tablets)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Chooses and prepares for execution on one or multiple CPU cores.  <a href="group__vm.html#gaf37b1a607a52750691eb8de389837bd6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vm.html#ga0889e7b22f4c8280651cc5c89c2b29b7">virg_vm_gpu</a> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__vm.html">virg_vm</a> *<a class="el" href="vm__gpu_8cu.html#a946d0d35b3bc20faef9b521a79e7e89a">vm</a>, <a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> **tab_, <a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> **res, unsigned num_tablets)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute the data-parallel portion of an opcode program on a GPU.  <a href="group__vm.html#ga0889e7b22f4c8280651cc5c89c2b29b7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a43d65f51f2f2fcf918d01efa4e17590d"></a><!-- doxytag: member="virginian.h::virg_gpu_getsizes" ref="a43d65f51f2f2fcf918d01efa4e17590d" args="()" -->
const size_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a43d65f51f2f2fcf918d01efa4e17590d">virg_gpu_getsizes</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Used in testing to return size test array from gpu-compiled code. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac1edfccbd465c2421a276cb9228d09c"></a><!-- doxytag: member="virginian.h::virg_cpu_getsizes" ref="aac1edfccbd465c2421a276cb9228d09c" args="()" -->
const size_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#aac1edfccbd465c2421a276cb9228d09c">virg_cpu_getsizes</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Used in testing to return size test array from gpu-compiled code. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga8703db2abff6a068f0e032813b42a2bc">virg_reader_init</a> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__reader.html">virg_reader</a> *r, <a class="el" href="structvirg__vm.html">virg_vm</a> *<a class="el" href="vm__gpu_8cu.html#a946d0d35b3bc20faef9b521a79e7e89a">vm</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a result tablet reader.  <a href="group__reader.html#ga8703db2abff6a068f0e032813b42a2bc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga6451f1b2ed82890835304dfa28b58dd7">virg_reader_free</a> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__reader.html">virg_reader</a> *r)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the resources used by the reader.  <a href="group__reader.html#ga6451f1b2ed82890835304dfa28b58dd7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#gae6184dd2665c5545077aa778e2d364c7">virg_reader_row</a> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__reader.html">virg_reader</a> *r)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the next result row.  <a href="group__reader.html#gae6184dd2665c5545077aa778e2d364c7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga6cd6a8f628268abf736fc4588c6eaf56">virg_reader_print</a> (<a class="el" href="structvirg__reader.html">virg_reader</a> *r)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the contents of the reader row buffer to stdout.  <a href="group__reader.html#ga6cd6a8f628268abf736fc4588c6eaf56"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#gacab24a668844ab54b8b9e1c185ab240f">virg_reader_nexttablet</a> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__reader.html">virg_reader</a> *r)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Move the reader to the next tablet.  <a href="group__reader.html#gacab24a668844ab54b8b9e1c185ab240f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga99a9065e32d6e59e421599ed52c931ae">virg_reader_getrows</a> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__reader.html">virg_reader</a> *r, unsigned *rows_)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Count the number of result rows still to be read.  <a href="group__reader.html#ga99a9065e32d6e59e421599ed52c931ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__virginian.html#gafd19659c526da8b2d82fd4ca0167a28f">virg_sql</a> (<a class="el" href="structvirginian.html">virginian</a> *v, const char *querystr, <a class="el" href="structvirg__vm.html">virg_vm</a> *<a class="el" href="vm__gpu_8cu.html#a946d0d35b3bc20faef9b521a79e7e89a">vm</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses a SQL query.  <a href="group__virginian.html#gafd19659c526da8b2d82fd4ca0167a28f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__virginian.html#gad957409ab5af42ef4fb567ca386880a0">virg_init</a> (<a class="el" href="structvirginian.html">virginian</a> *v)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the Virginian database.  <a href="group__virginian.html#gad957409ab5af42ef4fb567ca386880a0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__virginian.html#ga0a9d19e23195be294f562b4ab50dc36e">virg_close</a> (<a class="el" href="structvirginian.html">virginian</a> *v)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the Virginian database by freeing allocations.  <a href="group__virginian.html#ga0a9d19e23195be294f562b4ab50dc36e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__virginian.html#gaebf521b283ccb4f30d25c69bcdb5cf7c">virg_query</a> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__reader.html">virg_reader</a> **reader, const char *query)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a SQL query.  <a href="group__virginian.html#gaebf521b283ccb4f30d25c69bcdb5cf7c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__virginian.html#ga4016938c51ab476124eb67d93dc2f994">virg_release</a> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__reader.html">virg_reader</a> *reader)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans up after a SQL query.  <a href="group__virginian.html#ga4016938c51ab476124eb67d93dc2f994"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a1fc193d6be2302e4e0d4b611a852a37d">virg_sizeof</a> (<a class="el" href="virginian_8h.html#a5edb977d9e195d5df43f1757f311292b">virg_t</a> type)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size of a type given its enumerated value.  <a href="#a1fc193d6be2302e4e0d4b611a852a37d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3a63445d7d3b032afa071b6eecbc9d67"></a><!-- doxytag: member="virginian.h::virg_opstring" ref="a3a63445d7d3b032afa071b6eecbc9d67" args="(int op)" -->
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>virg_opstring</b> (int op)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a5accc31fb845424580f0bf239fa37a03">virg_print_tablet</a> (<a class="el" href="structvirginian.html">virginian</a> *v, <a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> *m, const char *filename)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Print out a string of tablets to disk.  <a href="#a5accc31fb845424580f0bf239fa37a03"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a90bbc4b1a9f8483cf76c794cb6b00d1d">virg_print_tablet_meta</a> (<a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> *m)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Print out the meta information of a tablet.  <a href="#a90bbc4b1a9f8483cf76c794cb6b00d1d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#af2449f7fae4df190fdd79661d1b45417">virg_print_stmt</a> (const <a class="el" href="structvirg__vm.html">virg_vm</a> *<a class="el" href="vm__gpu_8cu.html#a946d0d35b3bc20faef9b521a79e7e89a">vm</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the opcode program of a virtual machine context.  <a href="#af2449f7fae4df190fdd79661d1b45417"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a460f154d2fae86594f07fe2f10d40785">virg_print_slots</a> (<a class="el" href="structvirginian.html">virginian</a> *v)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Print out the status of the main-memory tablet slots.  <a href="#a460f154d2fae86594f07fe2f10d40785"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#ab264642a0c706db25c29061e03af8665">virg_print_tablet_info</a> (<a class="el" href="structvirginian.html">virginian</a> *v)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Print out the status of the on-disk tablet slots.  <a href="#ab264642a0c706db25c29061e03af8665"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#ac0b41a34f425915f749df05820866a42">virg_lock_sum</a> (<a class="el" href="structvirginian.html">virginian</a> *v)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total number of read-locks on main-memory tablet slots.  <a href="#ac0b41a34f425915f749df05820866a42"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#acc704e59ad23ced727b6f5cf6a0dd54b">virg_timer_start</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the global timer.  <a href="#acc704e59ad23ced727b6f5cf6a0dd54b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a9222636f128b55d7b49a48ab780b8701">virg_timer_stop</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the time since the timer's start.  <a href="#a9222636f128b55d7b49a48ab780b8701"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#acd781d9b2e57c37327d3964478187586">virg_timer_end</a> (const char *label)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Like <a class="el" href="virginian_8h.html#a9222636f128b55d7b49a48ab780b8701" title="Returns the time since the timer&#39;s start.">virg_timer_stop()</a> but prints the time.  <a href="#acd781d9b2e57c37327d3964478187586"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0a7b2d562a6d5d6c07cd4041a6dccf72"></a><!-- doxytag: member="virginian.h::virg_starttime" ref="a0a7b2d562a6d5d6c07cd4041a6dccf72" args="" -->
struct timeval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a0a7b2d562a6d5d6c07cd4041a6dccf72">virg_starttime</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">global variable used to store the timer value after <a class="el" href="virginian_8h.html#acc704e59ad23ced727b6f5cf6a0dd54b" title="Start the global timer.">virg_timer_start()</a> <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9b2834a368da34d8658d2d62ea03f252"></a><!-- doxytag: member="virginian.h::virg_endtime" ref="a9b2834a368da34d8658d2d62ea03f252" args="" -->
struct timeval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="virginian_8h.html#a9b2834a368da34d8658d2d62ea03f252">virg_endtime</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">global variable used to store the timer value after <a class="el" href="virginian_8h.html#a9222636f128b55d7b49a48ab780b8701" title="Returns the time since the timer&#39;s start.">virg_timer_stop()</a> <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><dl class="author"><dt><b>Author:</b></dt><dd>Peter Bakkum &lt;<a href="mailto:pbb7c@virginia.edu">pbb7c@virginia.edu</a>&gt;</dd></dl>
<h2><a class="anchor" id="Description"></a>
Description</h2>
<p>This is the header file for the entire Virginian database. It contains nearly all of the includes, macros, data structures, and function definitions for the database and can be used with a static object file containing the database's entire functionality. </p>

<p>Definition in file <a class="el" href="virginian_8h_source.html">virginian.h</a>.</p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="a5199c848f6c06c5aabdc6546774d4f0d"></a><!-- doxytag: member="virginian.h::VIRG_CHECK" ref="a5199c848f6c06c5aabdc6546774d4f0d" args="(cond, args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VIRG_CHECK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cond, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">args&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">if</span>(cond) {                                                                                                                                 \
                <a class="code" href="virginian_8h.html#a5f5d71a751fedca1701bb61f19665cb9" title="print out an error with the file and line">VIRG_ERROR</a>(args)                                                                                                           \
                <span class="keywordflow">return</span> <a class="code" href="virginian_8h.html#ac21dbbc06d2c74731554f359edd10702" title="used to return a function failure">VIRG_FAIL</a>;                                                                                                          \
        }
</pre></div>
<p>print an error and return failure if the condition is true </p>

<p>Definition at line <a class="el" href="virginian_8h_source.html#l00133">133</a> of file <a class="el" href="virginian_8h_source.html">virginian.h</a>.</p>

</div>
</div>
<a class="anchor" id="a78a2443f3caf7376459ae7a8b4bd25ea"></a><!-- doxytag: member="virginian.h::VIRG_CUDCHKCALL" ref="a78a2443f3caf7376459ae7a8b4bd25ea" args="(call, desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VIRG_CUDCHKCALL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">call, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">desc&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">{ cudaError_t r;                                                                                                                   \
        <span class="keywordflow">if</span>((r = call) != cudaSuccess) {                                                                                    \
                fprintf(stderr, <span class="stringliteral">&quot;CUDA %s error: %s :: %s line %d\n&quot;</span>,                               \
                        desc, cudaGetErrorString(r), __FILE__, __LINE__);                                  \
                <span class="keywordflow">return</span> <a class="code" href="virginian_8h.html#ac21dbbc06d2c74731554f359edd10702" title="used to return a function failure">VIRG_FAIL</a>;                                                                                                          \
        }}
</pre></div>
<p>return failure and print it if there in a cuda error returned from a call </p>

<p>Definition at line <a class="el" href="virginian_8h_source.html#l00143">143</a> of file <a class="el" href="virginian_8h_source.html">virginian.h</a>.</p>

</div>
</div>
<a class="anchor" id="a53c3d8f6ba6373cf9095d58d3ba4f7e1"></a><!-- doxytag: member="virginian.h::VIRG_DEBUG_CHECK" ref="a53c3d8f6ba6373cf9095d58d3ba4f7e1" args="(cond, args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VIRG_DEBUG_CHECK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cond, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">args&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;;</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>VIRG_DEBUG_CHECK calls are like VIRG_CHECK calls but only get compiled in if the VIRG_DEBUG macro is defined </p>

<p>Definition at line <a class="el" href="virginian_8h_source.html#l00158">158</a> of file <a class="el" href="virginian_8h_source.html">virginian.h</a>.</p>

</div>
</div>
<a class="anchor" id="a676649bccad95bc8c5443fa8f25ffc28"></a><!-- doxytag: member="virginian.h::VIRG_THREADSPERBLOCK_MASK" ref="a676649bccad95bc8c5443fa8f25ffc28" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VIRG_THREADSPERBLOCK_MASK&#160;&#160;&#160;0xFFFFFF80</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>mask used for math operations dependent on the size of threads per block with two's complement integers this should be the negative of the threads per block variable above but I get casting warning when I don't use hex that can probably be fixed </p>

<p>Definition at line <a class="el" href="virginian_8h_source.html#l00113">113</a> of file <a class="el" href="virginian_8h_source.html">virginian.h</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a0bfe4609754200e12e70cbd7f6692912"></a><!-- doxytag: member="virginian.h::virg_result_node" ref="a0bfe4609754200e12e70cbd7f6692912" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structvirg__result__node__.html">virg_result_node_</a>  <a class="el" href="structvirg__result__node__.html">virg_result_node</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Linked list node used to manage result tablets. </p>
<p>The multi-core and GPU virtual machines need to manage their result tablets in a list that is independent of the content of the meta information of the tablets, thus a linked list is used. </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="accaa60be5f4614518406bce4d3d1478f"></a><!-- doxytag: member="virginian.h::virg_generalizetype" ref="accaa60be5f4614518406bce4d3d1478f" args="(virg_t t1, virg_t t2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="virginian_8h.html#a5edb977d9e195d5df43f1757f311292b">virg_t</a> virg_generalizetype </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="virginian_8h.html#a5edb977d9e195d5df43f1757f311292b">virg_t</a>&#160;</td>
          <td class="paramname"><em>t1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="virginian_8h.html#a5edb977d9e195d5df43f1757f311292b">virg_t</a>&#160;</td>
          <td class="paramname"><em>t2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>used when operating on two types to get the more general type </p>
<p>used when operating on two types to get the more general type</p>
<p>When an operation is performed between disparate data types the result should be cast to the more general of the types. For instance, when an int is multiplied by a float, the result should be a float.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">type1</td><td>The first type </td></tr>
    <tr><td class="paramname">type2</td><td>The second type </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The generalized type </dd></dl>

<p>Definition at line <a class="el" href="util_8c_source.html#l00014">14</a> of file <a class="el" href="util_8c_source.html">util.c</a>.</p>
<div class="fragment"><pre class="fragment">{
        <span class="comment">// if the types are equal it doesnt matter</span>
        <span class="keywordflow">if</span>(t1 == t2)
                <span class="keywordflow">return</span> t1;

        <span class="comment">// if we are dealing with numerical data types</span>
        <span class="keywordflow">if</span>(t1 &lt;= VIRG_DOUBLE &amp;&amp; t2 &lt;= VIRG_DOUBLE)
                <span class="keywordflow">return</span> <a class="code" href="virginian_8h.html#aafa5e03a9cb5ee38048a809d1bef954e" title="convenience macro to return the max of the two inputs">VIRG_MAX</a>(t1, t2);

        <span class="comment">// else undefined, die</span>
        assert(0);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac0b41a34f425915f749df05820866a42"></a><!-- doxytag: member="virginian.h::virg_lock_sum" ref="ac0b41a34f425915f749df05820866a42" args="(virginian *v)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int virg_lock_sum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvirginian.html">virginian</a> *&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the total number of read-locks on main-memory tablet slots. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>The state struct of the Virginian database containing the tablet slots </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The total number of locks </dd></dl>

<p>Definition at line <a class="el" href="util_8c_source.html#l00366">366</a> of file <a class="el" href="util_8c_source.html">util.c</a>.</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordtype">int</span> x = 0, i;

        <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="virginian_8h.html#a9c6e6ed866369d7cc0288fafd223a87b" title="tablet slots to allocate in memory">VIRG_MEM_TABLETS</a>; i++)
                <span class="keywordflow">if</span>(v-&gt;<a class="code" href="structvirginian.html#ae6776e19e678dca8d07646de4ad8ae8c" title="use status of the tablet slot, 0 for unused, 1 for used, &gt;1 for each lock">tablet_slot_status</a>[i] &gt; 1)
                        x += v-&gt;<a class="code" href="structvirginian.html#ae6776e19e678dca8d07646de4ad8ae8c" title="use status of the tablet slot, 0 for unused, 1 for used, &gt;1 for each lock">tablet_slot_status</a>[i] - 1;

        <span class="keywordflow">return</span> x;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a460f154d2fae86594f07fe2f10d40785"></a><!-- doxytag: member="virginian.h::virg_print_slots" ref="a460f154d2fae86594f07fe2f10d40785" args="(virginian *v)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void virg_print_slots </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvirginian.html">virginian</a> *&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Print out the status of the main-memory tablet slots. </p>
<p>This function is intended to help debug tablet loading and locking/unlocking. It loops through each of the main memory tablet slots and prints its status to stdout. A 0 indicates the slot is unused, and a 1 or above indicates that a tablet is currently loaded into the slot. As read-locks are added to the tablet its status is incremented. It is decremented as locks are released.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>The state struct of the Virginian database containing the tablet slots </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="util_8c_source.html#l00314">314</a> of file <a class="el" href="util_8c_source.html">util.c</a>.</p>
<div class="fragment"><pre class="fragment">{
        fprintf(stderr, <span class="stringliteral">&quot;== slots ======================================\n&quot;</span>);
        fprintf(stderr, <span class="stringliteral">&quot; used   &quot;</span>);
        <span class="keywordtype">unsigned</span> i;
        <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="virginian_8h.html#a9c6e6ed866369d7cc0288fafd223a87b" title="tablet slots to allocate in memory">VIRG_MEM_TABLETS</a>; i++)
                fprintf(stderr, <span class="stringliteral">&quot;%i,&quot;</span>, v-&gt;<a class="code" href="structvirginian.html#ae6776e19e678dca8d07646de4ad8ae8c" title="use status of the tablet slot, 0 for unused, 1 for used, &gt;1 for each lock">tablet_slot_status</a>[i]);
        fprintf(stderr, <span class="stringliteral">&quot;\n&quot;</span>);
        fprintf(stderr, <span class="stringliteral">&quot; id     &quot;</span>);
        <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="virginian_8h.html#a9c6e6ed866369d7cc0288fafd223a87b" title="tablet slots to allocate in memory">VIRG_MEM_TABLETS</a>; i++)
                <span class="keywordflow">if</span>(v-&gt;<a class="code" href="structvirginian.html#ae6776e19e678dca8d07646de4ad8ae8c" title="use status of the tablet slot, 0 for unused, 1 for used, &gt;1 for each lock">tablet_slot_status</a>[i] == 0)
                        fprintf(stderr, <span class="stringliteral">&quot;,&quot;</span>);
                <span class="keywordflow">else</span>
                        fprintf(stderr, <span class="stringliteral">&quot;%u,&quot;</span>, v-&gt;<a class="code" href="structvirginian.html#acf3ed38504bbb207ffa500d1508cad97" title="id of the tablet in each slot, valid only if status is above 0">tablet_slot_ids</a>[i]);
        fprintf(stderr, <span class="stringliteral">&quot;\n&quot;</span>);
        fprintf(stderr, <span class="stringliteral">&quot;-----------------------------------------------\n&quot;</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="af2449f7fae4df190fdd79661d1b45417"></a><!-- doxytag: member="virginian.h::virg_print_stmt" ref="af2449f7fae4df190fdd79661d1b45417" args="(const virg_vm *vm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void virg_print_stmt </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvirg__vm.html">virg_vm</a> *&#160;</td>
          <td class="paramname"><em>vm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Print the opcode program of a virtual machine context. </p>
<p>This function loops through all the opcodes of an opcode query plan in a virtual machine context and prints the opcode as a string, the 3 integer arguments of the opcode, and the integer value of its 4th argument.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">vm</td><td>The virtual machine context to use </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="util_8c_source.html#l00274">274</a> of file <a class="el" href="util_8c_source.html">util.c</a>.</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordtype">unsigned</span> i;
        <span class="keywordtype">char</span> buff[16];

        fprintf(stderr, <span class="stringliteral">&quot;== stmt ==========================================\n&quot;</span>);
        <span class="keywordflow">for</span>(i = 0; i &lt; vm-&gt;<a class="code" href="structvirg__vm.html#a6b42b0c00d2be4bfdfa29404476dade6" title="number of opcodes in the opcode program">num_ops</a>; i++) {
                <a class="code" href="structvirg__op.html" title="Opcode, including arguments.">virg_op</a> op = vm-&gt;<a class="code" href="structvirg__vm.html#aa1232e0a814aa339153059d9f86320ba" title="opcode program">stmt</a>[i];

                <span class="keywordflow">switch</span>(op.op) {
                        <span class="keywordflow">case</span> OP_ResultColumn :
                                sprintf(&amp;buff[0], <span class="stringliteral">&quot;%*s&quot;</span>, 15, op.p4.s);
                                <span class="keywordflow">break</span>;

                        <span class="keywordflow">case</span> OP_Float :
                                sprintf(&amp;buff[0], <span class="stringliteral">&quot;%*f&quot;</span>, 15, op.p4.f);
                                <span class="keywordflow">break</span>;

                        <span class="keywordflow">default</span> :
                                sprintf(&amp;buff[0], <span class="stringliteral">&quot;%*i&quot;</span>, 15, op.p4.i);
                }

                fprintf(stderr, <span class="stringliteral">&quot; %*i: %-*s%*i%*i%*i%s\n&quot;</span>, 3, i, 14, virg_opstring(op.op),
                        5, op.p1, 5, op.p2, 5, op.p3, &amp;buff[0]);
        }
        fprintf(stderr, <span class="stringliteral">&quot;--------------------------------------------------\n&quot;</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5accc31fb845424580f0bf239fa37a03"></a><!-- doxytag: member="virginian.h::virg_print_tablet" ref="a5accc31fb845424580f0bf239fa37a03" args="(virginian *v, virg_tablet_meta *m, const char *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void virg_print_tablet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvirginian.html">virginian</a> *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Print out a string of tablets to disk. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>Virginian state struct </td></tr>
    <tr><td class="paramname">m</td><td>A pointer to the tablet </td></tr>
    <tr><td class="paramname">filename</td><td>Name of the output file </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="util_8c_source.html#l00099">99</a> of file <a class="el" href="util_8c_source.html">util.c</a>.</p>
<div class="fragment"><pre class="fragment">{
        FILE * f = fopen(filename, <span class="stringliteral">&quot;w+&quot;</span>);

        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> i = 0; i &lt; m-&gt;<a class="code" href="structvirg__tablet__meta.html#aa3595a9a97105ce081422911c30c0269" title="number of fixed-size columns">fixed_columns</a>; i++)
                fprintf(f, <span class="stringliteral">&quot;%s,&quot;</span>, m-&gt;<a class="code" href="structvirg__tablet__meta.html#a230698c2f9081565d75603aa5fa61ba0" title="name of each of the fixed-size columns">fixed_name</a>[i]);
        fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);

        <a class="code" href="group__tablet.html#gabd69b51cf1469c95d1574b1d53935391" title="Add a lock to a tablet.">virg_tablet_lock</a>(v, m-&gt;<a class="code" href="structvirg__tablet__meta.html#a8287e9d36017a86bc3657de07cfbb47e" title="tablet id">id</a>);

        <span class="keywordflow">while</span>(1) {
                <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> i = 0; i &lt; m-&gt;<a class="code" href="structvirg__tablet__meta.html#ac68b11acc7d264e16025e3017a3c671a" title="number of rows stored in this tablet">rows</a>; i++) {
                        <span class="keywordflow">switch</span>(m-&gt;<a class="code" href="structvirg__tablet__meta.html#a21626738f2e3e000d376a912558130fa" title="variable type of the key column">key_type</a>) {
                                <span class="keywordflow">case</span> VIRG_INT :
                                        fprintf(f, <span class="stringliteral">&quot;%*i&quot;</span>, 12, ((<span class="keywordtype">int</span>*)((<span class="keywordtype">char</span>*)m + m-&gt;<a class="code" href="structvirg__tablet__meta.html#a381166a5323a226a9cf70a527e9f7876" title="relative ptr to the beginning of the key column">key_block</a> +
                                                m-&gt;<a class="code" href="structvirg__tablet__meta.html#a16e649bf6f3217270c3fe84fe4d00114" title="stride of the variable type of the key column">key_stride</a> * i))[0]);
                                        <span class="keywordflow">break</span>;
                                <span class="keywordflow">case</span> VIRG_FLOAT :
                                        fprintf(f, <span class="stringliteral">&quot;%*f&quot;</span>, 12, ((<span class="keywordtype">float</span>*)((<span class="keywordtype">char</span>*)m + m-&gt;<a class="code" href="structvirg__tablet__meta.html#a381166a5323a226a9cf70a527e9f7876" title="relative ptr to the beginning of the key column">key_block</a> +
                                                m-&gt;<a class="code" href="structvirg__tablet__meta.html#a16e649bf6f3217270c3fe84fe4d00114" title="stride of the variable type of the key column">key_stride</a> * i))[0]);
                                        <span class="keywordflow">break</span>;
                                <span class="keywordflow">case</span> VIRG_DOUBLE:
                                        fprintf(f, <span class="stringliteral">&quot;%*f&quot;</span>, 12, ((<span class="keywordtype">double</span>*)((<span class="keywordtype">char</span>*)m + m-&gt;<a class="code" href="structvirg__tablet__meta.html#a381166a5323a226a9cf70a527e9f7876" title="relative ptr to the beginning of the key column">key_block</a> +
                                                m-&gt;<a class="code" href="structvirg__tablet__meta.html#a16e649bf6f3217270c3fe84fe4d00114" title="stride of the variable type of the key column">key_stride</a> * i))[0]);
                                        <span class="keywordflow">break</span>;
                                <span class="keywordflow">case</span> VIRG_INT64:
                                        fprintf(f, <span class="stringliteral">&quot;%*lld&quot;</span>, 12, ((<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>*)((<span class="keywordtype">char</span>*)m + m-&gt;<a class="code" href="structvirg__tablet__meta.html#a381166a5323a226a9cf70a527e9f7876" title="relative ptr to the beginning of the key column">key_block</a> +
                                                m-&gt;<a class="code" href="structvirg__tablet__meta.html#a16e649bf6f3217270c3fe84fe4d00114" title="stride of the variable type of the key column">key_stride</a> * i))[0]);
                                        <span class="keywordflow">break</span>;
                                <span class="keywordflow">case</span> VIRG_CHAR:
                                        fprintf(f, <span class="stringliteral">&quot;%*c&quot;</span>, 12, ((<span class="keywordtype">char</span>*)((<span class="keywordtype">char</span>*)m + m-&gt;<a class="code" href="structvirg__tablet__meta.html#a381166a5323a226a9cf70a527e9f7876" title="relative ptr to the beginning of the key column">key_block</a> +
                                                m-&gt;<a class="code" href="structvirg__tablet__meta.html#a16e649bf6f3217270c3fe84fe4d00114" title="stride of the variable type of the key column">key_stride</a> * i))[0]);
                                        <span class="keywordflow">break</span>;
                                <span class="keywordflow">case</span> VIRG_STRING:
                                        fprintf(f, <span class="stringliteral">&quot;%*s&quot;</span>, 12, (<span class="keywordtype">char</span>*)((<span class="keywordtype">char</span>*)m + m-&gt;<a class="code" href="structvirg__tablet__meta.html#a381166a5323a226a9cf70a527e9f7876" title="relative ptr to the beginning of the key column">key_block</a> +
                                                m-&gt;<a class="code" href="structvirg__tablet__meta.html#a16e649bf6f3217270c3fe84fe4d00114" title="stride of the variable type of the key column">key_stride</a> * i));
                                        <span class="keywordflow">break</span>;
                                <span class="keywordflow">case</span> VIRG_NULL:
                                        <span class="keywordflow">break</span>;
                        }

                        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> j = 0; j &lt; m-&gt;<a class="code" href="structvirg__tablet__meta.html#aa3595a9a97105ce081422911c30c0269" title="number of fixed-size columns">fixed_columns</a>; j++)
                                <span class="keywordflow">switch</span>(m-&gt;<a class="code" href="structvirg__tablet__meta.html#acc96d33e2a323f0e0b90604e3524c626" title="types of the fixed-size columns">fixed_type</a>[j]) {
                                        <span class="keywordflow">case</span> VIRG_INT :
                                                fprintf(f, <span class="stringliteral">&quot;%*i&quot;</span>, 12, ((<span class="keywordtype">int</span>*)((<span class="keywordtype">char</span>*)m + m-&gt;<a class="code" href="structvirg__tablet__meta.html#a7b2629d1c97658c8b7a89dff95a1d52b" title="relative ptr to the beginning of the fixed-column area">fixed_block</a> +
                                                        m-&gt;<a class="code" href="structvirg__tablet__meta.html#af46cdc848ccee989cf764abb07a9f29a" title="relative pointer from fixed_block indicating the beginning of the column">fixed_offset</a>[j] + m-&gt;<a class="code" href="structvirg__tablet__meta.html#af8affe76f89dd02d3f09a052982ae428" title="size in bytes of each of the fixed-size columns">fixed_stride</a>[j] * i))[0]);
                                                <span class="keywordflow">break</span>;
                                        <span class="keywordflow">case</span> VIRG_FLOAT :
                                                fprintf(f, <span class="stringliteral">&quot;%*f&quot;</span>, 12, ((<span class="keywordtype">float</span>*)((<span class="keywordtype">char</span>*)m + m-&gt;<a class="code" href="structvirg__tablet__meta.html#a7b2629d1c97658c8b7a89dff95a1d52b" title="relative ptr to the beginning of the fixed-column area">fixed_block</a> +
                                                        m-&gt;<a class="code" href="structvirg__tablet__meta.html#af46cdc848ccee989cf764abb07a9f29a" title="relative pointer from fixed_block indicating the beginning of the column">fixed_offset</a>[j] + m-&gt;<a class="code" href="structvirg__tablet__meta.html#af8affe76f89dd02d3f09a052982ae428" title="size in bytes of each of the fixed-size columns">fixed_stride</a>[j] * i))[0]);
                                                <span class="keywordflow">break</span>;
                                        <span class="keywordflow">case</span> VIRG_DOUBLE:
                                                fprintf(f, <span class="stringliteral">&quot;%*f&quot;</span>, 12, ((<span class="keywordtype">double</span>*)((<span class="keywordtype">char</span>*)m + m-&gt;<a class="code" href="structvirg__tablet__meta.html#a7b2629d1c97658c8b7a89dff95a1d52b" title="relative ptr to the beginning of the fixed-column area">fixed_block</a> +
                                                        m-&gt;<a class="code" href="structvirg__tablet__meta.html#af46cdc848ccee989cf764abb07a9f29a" title="relative pointer from fixed_block indicating the beginning of the column">fixed_offset</a>[j] + m-&gt;<a class="code" href="structvirg__tablet__meta.html#af8affe76f89dd02d3f09a052982ae428" title="size in bytes of each of the fixed-size columns">fixed_stride</a>[j] * i))[0]);
                                                <span class="keywordflow">break</span>;
                                        <span class="keywordflow">case</span> VIRG_INT64:
                                                fprintf(f, <span class="stringliteral">&quot;%*lld&quot;</span>, 12, ((<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>*)((<span class="keywordtype">char</span>*)m + m-&gt;<a class="code" href="structvirg__tablet__meta.html#a7b2629d1c97658c8b7a89dff95a1d52b" title="relative ptr to the beginning of the fixed-column area">fixed_block</a> +
                                                        m-&gt;<a class="code" href="structvirg__tablet__meta.html#af46cdc848ccee989cf764abb07a9f29a" title="relative pointer from fixed_block indicating the beginning of the column">fixed_offset</a>[j] + m-&gt;<a class="code" href="structvirg__tablet__meta.html#af8affe76f89dd02d3f09a052982ae428" title="size in bytes of each of the fixed-size columns">fixed_stride</a>[j] * i))[0]);
                                                <span class="keywordflow">break</span>;
                                        <span class="keywordflow">case</span> VIRG_CHAR:
                                                fprintf(f, <span class="stringliteral">&quot;%*c&quot;</span>, 12, ((<span class="keywordtype">char</span>*)((<span class="keywordtype">char</span>*)m + m-&gt;<a class="code" href="structvirg__tablet__meta.html#a7b2629d1c97658c8b7a89dff95a1d52b" title="relative ptr to the beginning of the fixed-column area">fixed_block</a> +
                                                        m-&gt;<a class="code" href="structvirg__tablet__meta.html#af46cdc848ccee989cf764abb07a9f29a" title="relative pointer from fixed_block indicating the beginning of the column">fixed_offset</a>[j] + m-&gt;<a class="code" href="structvirg__tablet__meta.html#af8affe76f89dd02d3f09a052982ae428" title="size in bytes of each of the fixed-size columns">fixed_stride</a>[j] * i))[0]);
                                                <span class="keywordflow">break</span>;
                                        <span class="keywordflow">case</span> VIRG_STRING:
                                                fprintf(f, <span class="stringliteral">&quot;%*s&quot;</span>, 12, (<span class="keywordtype">char</span>*)((<span class="keywordtype">char</span>*)m + m-&gt;<a class="code" href="structvirg__tablet__meta.html#a7b2629d1c97658c8b7a89dff95a1d52b" title="relative ptr to the beginning of the fixed-column area">fixed_block</a> +
                                                        m-&gt;<a class="code" href="structvirg__tablet__meta.html#af46cdc848ccee989cf764abb07a9f29a" title="relative pointer from fixed_block indicating the beginning of the column">fixed_offset</a>[j] + m-&gt;<a class="code" href="structvirg__tablet__meta.html#af8affe76f89dd02d3f09a052982ae428" title="size in bytes of each of the fixed-size columns">fixed_stride</a>[j] * i));
                                                <span class="keywordflow">break</span>;
                                        <span class="keywordflow">case</span> VIRG_NULL:
                                                <span class="keywordflow">break</span>;
                                }
                        fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
                }

                <span class="keywordflow">if</span>(!m-&gt;<a class="code" href="structvirg__tablet__meta.html#aba80db72f84483fc51af9e39fe5c3590" title="boolean indicating whether this is the last tablet in the tablet string">last_tablet</a>)
                        <a class="code" href="group__database.html#ga78584f2bb7ca78e1cb87378929ce40f2" title="Advance a tablet pointer to the next tablet in its string of tablets.">virg_db_loadnext</a>(v, &amp;m);
                <span class="keywordflow">else</span>
                        <span class="keywordflow">break</span>;
        }

        <a class="code" href="group__tablet.html#ga8e6a3f46a4efe9347c8202acc032db69" title="Release a lock to a tablet.">virg_tablet_unlock</a>(v, m-&gt;<a class="code" href="structvirg__tablet__meta.html#a8287e9d36017a86bc3657de07cfbb47e" title="tablet id">id</a>);

        fclose(f);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab264642a0c706db25c29061e03af8665"></a><!-- doxytag: member="virginian.h::virg_print_tablet_info" ref="ab264642a0c706db25c29061e03af8665" args="(virginian *v)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void virg_print_tablet_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvirginian.html">virginian</a> *&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Print out the status of the on-disk tablet slots. </p>
<p>This function is intended to help debug the loading and writing of tablets from and to disk. It prints out the on-disk tablet slots and the ids of tablets that are using them to stdout.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>The state struct of the Virginian database containing the tablet slots </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="util_8c_source.html#l00342">342</a> of file <a class="el" href="util_8c_source.html">util.c</a>.</p>
<div class="fragment"><pre class="fragment">{
        <a class="code" href="structvirg__db.html" title="State of the currently open database.">virg_db</a> *db = &amp;v-&gt;<a class="code" href="structvirginian.html#a4475e39a0380efc27a50823d7fc11cb7" title="database file state">db</a>;

        <span class="keywordtype">unsigned</span> i;
        fprintf(stderr, <span class="stringliteral">&quot;== tablet info ================================\n&quot;</span>);
        fprintf(stderr, <span class="stringliteral">&quot; &quot;</span>);

        <span class="keywordflow">for</span>(i = 0; i &lt; db-&gt;<a class="code" href="structvirg__db.html#a071548caca50ad0408ca5f81cd82d898" title="number of virg_tablet_info structs that have been allocated">alloced_tablets</a>; i++)
                <span class="keywordflow">if</span>(db-&gt;<a class="code" href="structvirg__db.html#a26636f8d326509af7c3faa1d41e76472" title="pointer to the block allocated to store virg_tablet_info structs">tablet_info</a>[i].<a class="code" href="structvirg__tablet__info.html#a5d254b530b1e2bf333f614c96afefe6f" title="note whether or not there is a tablet stored in this disk slot">used</a>)
                        fprintf(stderr, <span class="stringliteral">&quot;%u,&quot;</span>, db-&gt;<a class="code" href="structvirg__db.html#a26636f8d326509af7c3faa1d41e76472" title="pointer to the block allocated to store virg_tablet_info structs">tablet_info</a>[i].<a class="code" href="structvirg__tablet__info.html#ac3d14971c28b9823b686ab0b848002b2" title="id of the tablet stored in this slot, valid only if used == 1">id</a>);
                <span class="keywordflow">else</span>
                        fprintf(stderr, <span class="stringliteral">&quot;-,&quot;</span>);

        fprintf(stderr, <span class="stringliteral">&quot;\n&quot;</span>);
        fprintf(stderr, <span class="stringliteral">&quot;-----------------------------------------------\n&quot;</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a90bbc4b1a9f8483cf76c794cb6b00d1d"></a><!-- doxytag: member="virginian.h::virg_print_tablet_meta" ref="a90bbc4b1a9f8483cf76c794cb6b00d1d" args="(virg_tablet_meta *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void virg_print_tablet_meta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvirg__tablet__meta.html">virg_tablet_meta</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Print out the meta information of a tablet. </p>
<p>This is indended to help debug code by printing out the meta block of a tablet and a few of its fixed-size rows.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>A pointer to the tablet </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="util_8c_source.html#l00191">191</a> of file <a class="el" href="util_8c_source.html">util.c</a>.</p>
<div class="fragment"><pre class="fragment">{
        printf(<span class="stringliteral">&quot;== virg_tablet_meta == %p ============\n&quot;</span>, (<span class="keywordtype">void</span>*)m);

        printf(<span class="stringliteral">&quot; rows:\t\t\t%u\n&quot;</span>, m-&gt;<a class="code" href="structvirg__tablet__meta.html#ac68b11acc7d264e16025e3017a3c671a" title="number of rows stored in this tablet">rows</a>);
        printf(<span class="stringliteral">&quot; key_type:\t\t%i\n&quot;</span>, m-&gt;<a class="code" href="structvirg__tablet__meta.html#a21626738f2e3e000d376a912558130fa" title="variable type of the key column">key_type</a>);
        printf(<span class="stringliteral">&quot; key_stride:\t\t%u\n&quot;</span>, (<span class="keywordtype">unsigned</span>)m-&gt;<a class="code" href="structvirg__tablet__meta.html#a16e649bf6f3217270c3fe84fe4d00114" title="stride of the variable type of the key column">key_stride</a>);
        printf(<span class="stringliteral">&quot; id:\t\t\t%u\n&quot;</span>, m-&gt;<a class="code" href="structvirg__tablet__meta.html#a8287e9d36017a86bc3657de07cfbb47e" title="tablet id">id</a>);
        printf(<span class="stringliteral">&quot; next:\t\t\t%u\n&quot;</span>, m-&gt;<a class="code" href="structvirg__tablet__meta.html#a08bff8a2b2cbe7abbbdb0e85a530b065" title="id of the next tablet in the tablet string">next</a>);
        printf(<span class="stringliteral">&quot; last_tablet:\t\t%i\n&quot;</span>, m-&gt;<a class="code" href="structvirg__tablet__meta.html#aba80db72f84483fc51af9e39fe5c3590" title="boolean indicating whether this is the last tablet in the tablet string">last_tablet</a>);
        printf(<span class="stringliteral">&quot; key_block:\t\t%u\n&quot;</span>, (<span class="keywordtype">unsigned</span>)m-&gt;<a class="code" href="structvirg__tablet__meta.html#a381166a5323a226a9cf70a527e9f7876" title="relative ptr to the beginning of the key column">key_block</a>);
        printf(<span class="stringliteral">&quot; key_pointers_block:\t%u\n&quot;</span>, (<span class="keywordtype">unsigned</span>)m-&gt;<a class="code" href="structvirg__tablet__meta.html#a9b5a18ab0b852cdcb0608d0113ce25f1" title="relative ptr to the beginning of the key pointer column">key_pointers_block</a>);
        printf(<span class="stringliteral">&quot; fixed_block:\t\t%u\n&quot;</span>, (<span class="keywordtype">unsigned</span>)m-&gt;<a class="code" href="structvirg__tablet__meta.html#a7b2629d1c97658c8b7a89dff95a1d52b" title="relative ptr to the beginning of the fixed-column area">fixed_block</a>);
        printf(<span class="stringliteral">&quot; variable_block:\t%u\n&quot;</span>, (<span class="keywordtype">unsigned</span>)m-&gt;<a class="code" href="structvirg__tablet__meta.html#a3ec258f17124528e236512d3b30b74be" title="relative ptr to the beginning of the variable-sized data area">variable_block</a>);
        printf(<span class="stringliteral">&quot; size:\t\t\t%u\n&quot;</span>, (<span class="keywordtype">unsigned</span>)m-&gt;<a class="code" href="structvirg__tablet__meta.html#ad65a3feff0d4d970d956214bc658a962" title="total size of this tablet">size</a>);
        printf(<span class="stringliteral">&quot; possible_rows:\t\t%u\n&quot;</span>, m-&gt;<a class="code" href="structvirg__tablet__meta.html#a785691ca2a53ec6a5d5c34bca74c882d" title="fixed-size rows that can be in this tablet without reorganizing columns">possible_rows</a>);
        printf(<span class="stringliteral">&quot; fixed_columns:\t\t%u\n&quot;</span>, m-&gt;<a class="code" href="structvirg__tablet__meta.html#aa3595a9a97105ce081422911c30c0269" title="number of fixed-size columns">fixed_columns</a>);

        <span class="keywordtype">unsigned</span> i, j;

        printf(<span class="stringliteral">&quot; fixed_name\n&quot;</span>);
        <span class="keywordflow">for</span>(i = 0; i &lt; m-&gt;<a class="code" href="structvirg__tablet__meta.html#aa3595a9a97105ce081422911c30c0269" title="number of fixed-size columns">fixed_columns</a>; i++)
                printf(<span class="stringliteral">&quot;%s,&quot;</span>, m-&gt;<a class="code" href="structvirg__tablet__meta.html#a230698c2f9081565d75603aa5fa61ba0" title="name of each of the fixed-size columns">fixed_name</a>[i]);
        printf(<span class="stringliteral">&quot;\n&quot;</span>);

        printf(<span class="stringliteral">&quot; fixed_type\n&quot;</span>);
        <span class="keywordflow">for</span>(i = 0; i &lt; m-&gt;<a class="code" href="structvirg__tablet__meta.html#aa3595a9a97105ce081422911c30c0269" title="number of fixed-size columns">fixed_columns</a>; i++)
                printf(<span class="stringliteral">&quot;%u,&quot;</span>, m-&gt;<a class="code" href="structvirg__tablet__meta.html#acc96d33e2a323f0e0b90604e3524c626" title="types of the fixed-size columns">fixed_type</a>[i]);
        printf(<span class="stringliteral">&quot;\n&quot;</span>);

        printf(<span class="stringliteral">&quot; fixed_stride\n&quot;</span>);
        <span class="keywordflow">for</span>(i = 0; i &lt; m-&gt;<a class="code" href="structvirg__tablet__meta.html#aa3595a9a97105ce081422911c30c0269" title="number of fixed-size columns">fixed_columns</a>; i++)
                printf(<span class="stringliteral">&quot;%u,&quot;</span>, (<span class="keywordtype">unsigned</span>)m-&gt;<a class="code" href="structvirg__tablet__meta.html#af8affe76f89dd02d3f09a052982ae428" title="size in bytes of each of the fixed-size columns">fixed_stride</a>[i]);
        printf(<span class="stringliteral">&quot;\n&quot;</span>);

        printf(<span class="stringliteral">&quot; fixed_offset\n&quot;</span>);
        <span class="keywordflow">for</span>(i = 0; i &lt; m-&gt;<a class="code" href="structvirg__tablet__meta.html#aa3595a9a97105ce081422911c30c0269" title="number of fixed-size columns">fixed_columns</a>; i++)
                printf(<span class="stringliteral">&quot;%u,&quot;</span>, (<span class="keywordtype">unsigned</span>)m-&gt;<a class="code" href="structvirg__tablet__meta.html#af46cdc848ccee989cf764abb07a9f29a" title="relative pointer from fixed_block indicating the beginning of the column">fixed_offset</a>[i]);
        printf(<span class="stringliteral">&quot;\n    ===========      \n&quot;</span>);

        <span class="keywordflow">for</span>(i = 0; i &lt; m-&gt;<a class="code" href="structvirg__tablet__meta.html#aa3595a9a97105ce081422911c30c0269" title="number of fixed-size columns">fixed_columns</a>; i++)
                printf(<span class="stringliteral">&quot;%*s&quot;</span>, 12, m-&gt;<a class="code" href="structvirg__tablet__meta.html#a230698c2f9081565d75603aa5fa61ba0" title="name of each of the fixed-size columns">fixed_name</a>[i]);
        printf(<span class="stringliteral">&quot;\n&quot;</span>);

        <span class="keywordflow">for</span>(i = 0; i &lt; 20; i++) {
                <span class="keywordflow">for</span>(j = 0; j &lt; m-&gt;<a class="code" href="structvirg__tablet__meta.html#aa3595a9a97105ce081422911c30c0269" title="number of fixed-size columns">fixed_columns</a>; j++)
                        <span class="keywordflow">switch</span>(m-&gt;<a class="code" href="structvirg__tablet__meta.html#acc96d33e2a323f0e0b90604e3524c626" title="types of the fixed-size columns">fixed_type</a>[j]) {
                                <span class="keywordflow">case</span> VIRG_INT :
                                        printf(<span class="stringliteral">&quot;%*i&quot;</span>, 12, ((<span class="keywordtype">int</span>*)((<span class="keywordtype">char</span>*)m + m-&gt;<a class="code" href="structvirg__tablet__meta.html#a7b2629d1c97658c8b7a89dff95a1d52b" title="relative ptr to the beginning of the fixed-column area">fixed_block</a> + m-&gt;<a class="code" href="structvirg__tablet__meta.html#af46cdc848ccee989cf764abb07a9f29a" title="relative pointer from fixed_block indicating the beginning of the column">fixed_offset</a>[j] + m-&gt;<a class="code" href="structvirg__tablet__meta.html#af8affe76f89dd02d3f09a052982ae428" title="size in bytes of each of the fixed-size columns">fixed_stride</a>[j] * i))[0]);
                                        <span class="keywordflow">break</span>;
                                <span class="keywordflow">case</span> VIRG_FLOAT :
                                        printf(<span class="stringliteral">&quot;%*f&quot;</span>, 12, ((<span class="keywordtype">float</span>*)((<span class="keywordtype">char</span>*)m + m-&gt;<a class="code" href="structvirg__tablet__meta.html#a7b2629d1c97658c8b7a89dff95a1d52b" title="relative ptr to the beginning of the fixed-column area">fixed_block</a> + m-&gt;<a class="code" href="structvirg__tablet__meta.html#af46cdc848ccee989cf764abb07a9f29a" title="relative pointer from fixed_block indicating the beginning of the column">fixed_offset</a>[j] + m-&gt;<a class="code" href="structvirg__tablet__meta.html#af8affe76f89dd02d3f09a052982ae428" title="size in bytes of each of the fixed-size columns">fixed_stride</a>[j] * i))[0]);
                                        <span class="keywordflow">break</span>;
                                <span class="keywordflow">case</span> VIRG_DOUBLE:
                                        printf(<span class="stringliteral">&quot;%*f&quot;</span>, 12, ((<span class="keywordtype">double</span>*)((<span class="keywordtype">char</span>*)m + m-&gt;<a class="code" href="structvirg__tablet__meta.html#a7b2629d1c97658c8b7a89dff95a1d52b" title="relative ptr to the beginning of the fixed-column area">fixed_block</a> + m-&gt;<a class="code" href="structvirg__tablet__meta.html#af46cdc848ccee989cf764abb07a9f29a" title="relative pointer from fixed_block indicating the beginning of the column">fixed_offset</a>[j] + m-&gt;<a class="code" href="structvirg__tablet__meta.html#af8affe76f89dd02d3f09a052982ae428" title="size in bytes of each of the fixed-size columns">fixed_stride</a>[j] * i))[0]);
                                        <span class="keywordflow">break</span>;
                                <span class="keywordflow">case</span> VIRG_INT64:
                                        printf(<span class="stringliteral">&quot;%*lld&quot;</span>, 12, ((<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>*)((<span class="keywordtype">char</span>*)m + m-&gt;<a class="code" href="structvirg__tablet__meta.html#a7b2629d1c97658c8b7a89dff95a1d52b" title="relative ptr to the beginning of the fixed-column area">fixed_block</a> + m-&gt;<a class="code" href="structvirg__tablet__meta.html#af46cdc848ccee989cf764abb07a9f29a" title="relative pointer from fixed_block indicating the beginning of the column">fixed_offset</a>[j] + m-&gt;<a class="code" href="structvirg__tablet__meta.html#af8affe76f89dd02d3f09a052982ae428" title="size in bytes of each of the fixed-size columns">fixed_stride</a>[j] * i))[0]);
                                        <span class="keywordflow">break</span>;
                                <span class="keywordflow">case</span> VIRG_CHAR:
                                        printf(<span class="stringliteral">&quot;%*c&quot;</span>, 12, ((<span class="keywordtype">char</span>*)((<span class="keywordtype">char</span>*)m + m-&gt;<a class="code" href="structvirg__tablet__meta.html#a7b2629d1c97658c8b7a89dff95a1d52b" title="relative ptr to the beginning of the fixed-column area">fixed_block</a> + m-&gt;<a class="code" href="structvirg__tablet__meta.html#af46cdc848ccee989cf764abb07a9f29a" title="relative pointer from fixed_block indicating the beginning of the column">fixed_offset</a>[j] + m-&gt;<a class="code" href="structvirg__tablet__meta.html#af8affe76f89dd02d3f09a052982ae428" title="size in bytes of each of the fixed-size columns">fixed_stride</a>[j] * i))[0]);
                                        <span class="keywordflow">break</span>;
                                <span class="keywordflow">case</span> VIRG_STRING:
                                        printf(<span class="stringliteral">&quot;%*s&quot;</span>, 12, (<span class="keywordtype">char</span>*)((<span class="keywordtype">char</span>*)m + m-&gt;<a class="code" href="structvirg__tablet__meta.html#a7b2629d1c97658c8b7a89dff95a1d52b" title="relative ptr to the beginning of the fixed-column area">fixed_block</a> + m-&gt;<a class="code" href="structvirg__tablet__meta.html#af46cdc848ccee989cf764abb07a9f29a" title="relative pointer from fixed_block indicating the beginning of the column">fixed_offset</a>[j] + m-&gt;<a class="code" href="structvirg__tablet__meta.html#af8affe76f89dd02d3f09a052982ae428" title="size in bytes of each of the fixed-size columns">fixed_stride</a>[j] * i));
                                        <span class="keywordflow">break</span>;
                                <span class="keywordflow">default</span>:
                                        <span class="keywordflow">break</span>;
                        }
                printf(<span class="stringliteral">&quot;\n&quot;</span>);
        }

        printf(<span class="stringliteral">&quot;------------------------------------------------\n&quot;</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1fc193d6be2302e4e0d4b611a852a37d"></a><!-- doxytag: member="virginian.h::virg_sizeof" ref="a1fc193d6be2302e4e0d4b611a852a37d" args="(virg_t type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t virg_sizeof </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="virginian_8h.html#a5edb977d9e195d5df43f1757f311292b">virg_t</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the size of a type given its enumerated value. </p>
<p>Variable types are stored in Virginian using one of the enumerated values of virg_t. To get the size in bytes of one of these types, this function is used to access the static virg_sizes[] array.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Integer value of the enumerated variable type </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Size in bytes as a size_t </dd></dl>

<p>Definition at line <a class="el" href="util_8c_source.html#l00038">38</a> of file <a class="el" href="util_8c_source.html">util.c</a>.</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordflow">return</span> virg_sizes[type];
}
</pre></div>
</div>
</div>
<a class="anchor" id="acd781d9b2e57c37327d3964478187586"></a><!-- doxytag: member="virginian.h::virg_timer_end" ref="acd781d9b2e57c37327d3964478187586" args="(const char *label)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double virg_timer_end </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>label</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Like <a class="el" href="virginian_8h.html#a9222636f128b55d7b49a48ab780b8701" title="Returns the time since the timer&#39;s start.">virg_timer_stop()</a> but prints the time. </p>
<p>This function is intended to make it easy to measure parts of program execution by printing out labels and times. It calls <a class="el" href="virginian_8h.html#a9222636f128b55d7b49a48ab780b8701" title="Returns the time since the timer&#39;s start.">virg_timer_stop()</a> and prints out the label and the value returned.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">label</td><td>The character string to label the result with </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The time in seconds since <a class="el" href="virginian_8h.html#acc704e59ad23ced727b6f5cf6a0dd54b" title="Start the global timer.">virg_timer_start()</a> was called </dd></dl>

<p>Definition at line <a class="el" href="util_8c_source.html#l00085">85</a> of file <a class="el" href="util_8c_source.html">util.c</a>.</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordtype">double</span> time = virg_timer_stop();
        printf(<span class="stringliteral">&quot;%s time: %f seconds\n&quot;</span>, label, time);
        <span class="keywordflow">return</span> time;
}
</pre></div>
</div>
</div>
<a class="anchor" id="acc704e59ad23ced727b6f5cf6a0dd54b"></a><!-- doxytag: member="virginian.h::virg_timer_start" ref="acc704e59ad23ced727b6f5cf6a0dd54b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void virg_timer_start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start the global timer. </p>
<p>Uses the gettimeofday() system call to set the value of virg_starttime. </p>

<p>Definition at line <a class="el" href="util_8c_source.html#l00051">51</a> of file <a class="el" href="util_8c_source.html">util.c</a>.</p>
<div class="fragment"><pre class="fragment">{
        gettimeofday(&amp;virg_starttime, NULL);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9222636f128b55d7b49a48ab780b8701"></a><!-- doxytag: member="virginian.h::virg_timer_stop" ref="a9222636f128b55d7b49a48ab780b8701" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double virg_timer_stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the time since the timer's start. </p>
<p>Subtracts the current value returned by gettimeofday() to that set in the <a class="el" href="virginian_8h.html#acc704e59ad23ced727b6f5cf6a0dd54b" title="Start the global timer.">virg_timer_start()</a> function. Note that this doesn't actually stop the timer, as it does not change the value of virg_starttime.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The time in seconds since <a class="el" href="virginian_8h.html#acc704e59ad23ced727b6f5cf6a0dd54b" title="Start the global timer.">virg_timer_start()</a> was called </dd></dl>

<p>Definition at line <a class="el" href="util_8c_source.html#l00065">65</a> of file <a class="el" href="util_8c_source.html">util.c</a>.</p>
<div class="fragment"><pre class="fragment">{
        gettimeofday(&amp;virg_endtime, NULL);
        <span class="keywordtype">double</span> start = virg_starttime.tv_sec +
                (double)virg_starttime.tv_usec * .000001;
        <span class="keywordtype">double</span> end = virg_endtime.tv_sec +
                (<span class="keywordtype">double</span>)virg_endtime.tv_usec * .000001;
        <span class="keywordflow">return</span> (end - start);
}
</pre></div>
</div>
</div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Feb 15 2012 01:21:46 for Virginian by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
